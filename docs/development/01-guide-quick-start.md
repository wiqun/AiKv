# AiKv å¿«é€Ÿå¼€å§‹æŒ‡å—

æœ¬æŒ‡å—å¸®åŠ©ä½ åœ¨ 5 åˆ†é’Ÿå†…å¼€å§‹ä½¿ç”¨ AiKvã€‚

## ğŸ“‹ å‰ç½®è¦æ±‚

- **Rust 1.70+** (ç”¨äºç¼–è¯‘)
- **Docker & Docker Compose** (ç”¨äºå®¹å™¨åŒ–éƒ¨ç½²)
- **redis-cli** (ç”¨äºè¿æ¥æµ‹è¯•)

---

## ğŸš€ æ–¹å¼ä¸€ï¼šä½¿ç”¨ aikv-toolï¼ˆæ¨èï¼‰

### 1. å®‰è£… aikv-tool

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Genuineh/AiKv.git
cd AiKv

# å®‰è£… aikv-tool
cd aikv-toolchain && cargo install --path . && cd ..
```

### 2. ä¸€é”®éƒ¨ç½²é›†ç¾¤

```bash
# ä¸€é”®å®Œæˆï¼šç”Ÿæˆé…ç½® â†’ æ„å»ºé•œåƒ â†’ å¯åŠ¨å®¹å™¨ â†’ åˆå§‹åŒ–é›†ç¾¤
aikv-tool cluster setup
```

è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰å·¥ä½œï¼

### 3. è¿æ¥ä½¿ç”¨

```bash
redis-cli -c -h 127.0.0.1 -p 6379

127.0.0.1:6379> PING
PONG

127.0.0.1:6379> SET hello world
OK

127.0.0.1:6379> GET hello
"world"
```

### 4. æŸ¥çœ‹é›†ç¾¤çŠ¶æ€

```bash
aikv-tool cluster status
```

### 5. åœæ­¢é›†ç¾¤

```bash
aikv-tool cluster stop
```

---

## ğŸ³ æ–¹å¼äºŒï¼šå•èŠ‚ç‚¹ Docker éƒ¨ç½²

é€‚åˆå¿«é€Ÿæµ‹è¯•æˆ–å¼€å‘ç¯å¢ƒã€‚

```bash
# æ„å»ºé•œåƒ
docker build -t aikv:latest .

# è¿è¡Œå®¹å™¨
docker run -d -p 6379:6379 --name aikv aikv:latest

# è¿æ¥æµ‹è¯•
redis-cli -h 127.0.0.1 -p 6379 PING
```

---

## ğŸ–¥ï¸ æ–¹å¼ä¸‰ï¼šç›´æ¥è¿è¡Œ

é€‚åˆå¼€å‘è°ƒè¯•ã€‚

```bash
# ç¼–è¯‘
cargo build --release

# è¿è¡Œ
./target/release/aikv

# æˆ–å¸¦é…ç½®æ–‡ä»¶è¿è¡Œ
./target/release/aikv --config config/aikv.toml
```

---

## ğŸ“ åŸºæœ¬æ“ä½œç¤ºä¾‹

### String æ“ä½œ

```bash
SET mykey "Hello World"
GET mykey
DEL mykey
```

### Hash æ“ä½œ

```bash
HSET user:1 name "John" age 30
HGET user:1 name
HGETALL user:1
```

### List æ“ä½œ

```bash
LPUSH mylist "item1" "item2" "item3"
LRANGE mylist 0 -1
RPOP mylist
```

### JSON æ“ä½œ

```bash
JSON.SET user $ '{"name":"John","age":30}'
JSON.GET user
JSON.GET user $.name
```

### é›†ç¾¤æ“ä½œ

```bash
CLUSTER INFO
CLUSTER NODES
CLUSTER KEYSLOT mykey
```

---

## ğŸ”§ aikv-tool å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `aikv-tool cluster setup` | ä¸€é”®éƒ¨ç½²é›†ç¾¤ |
| `aikv-tool cluster start` | å¯åŠ¨é›†ç¾¤ |
| `aikv-tool cluster stop` | åœæ­¢é›†ç¾¤ |
| `aikv-tool cluster status` | æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ |
| `aikv-tool build --release` | ç¼–è¯‘ release ç‰ˆæœ¬ |
| `aikv-tool docker` | æ„å»º Docker é•œåƒ |
| `aikv-tool deploy -t cluster` | ç”Ÿæˆé›†ç¾¤éƒ¨ç½²æ–‡ä»¶ |
| `aikv-tool deploy -t single` | ç”Ÿæˆå•èŠ‚ç‚¹éƒ¨ç½²æ–‡ä»¶ |
| `aikv-tool status` | æŸ¥çœ‹é¡¹ç›®çŠ¶æ€ |
| `aikv-tool tui` | è¿›å…¥äº¤äº’å¼ TUI |

---

## ğŸ“Š é›†ç¾¤æ¶æ„

ä¸€é”®éƒ¨ç½²çš„é›†ç¾¤åŒ…å« 6 ä¸ªèŠ‚ç‚¹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           AiKv Cluster (6 nodes)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ Node 1  â”‚  â”‚ Node 2  â”‚  â”‚ Node 3  â”‚        â”‚
â”‚   â”‚ Master  â”‚  â”‚ Master  â”‚  â”‚ Master  â”‚        â”‚
â”‚   â”‚ :6379   â”‚  â”‚ :6380   â”‚  â”‚ :6381   â”‚        â”‚
â”‚   â”‚ 0-5460  â”‚  â”‚5461-10922â”‚ â”‚10923-16383â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
â”‚        â”‚            â”‚            â”‚              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ Node 4  â”‚  â”‚ Node 5  â”‚  â”‚ Node 6  â”‚        â”‚
â”‚   â”‚ Replica â”‚  â”‚ Replica â”‚  â”‚ Replica â”‚        â”‚
â”‚   â”‚ :6382   â”‚  â”‚ :6383   â”‚  â”‚ :6384   â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Node 1-3**: ä¸»èŠ‚ç‚¹ï¼Œå‚ä¸ MetaRaft å…±è¯†
- **Node 4-6**: å‰¯æœ¬èŠ‚ç‚¹ï¼Œåˆ†åˆ«å¤åˆ¶ Node 1-3
- **16384 æ§½**: å‡åŒ€åˆ†å¸ƒåœ¨ 3 ä¸ªä¸»èŠ‚ç‚¹

---

## ğŸ”— ä¸‹ä¸€æ­¥

- [API å‚è€ƒ](02-api-commands.md) - å®Œæ•´å‘½ä»¤æ–‡æ¡£
- [éƒ¨ç½²æŒ‡å—](01-guide-deployment.md) - ç”Ÿäº§éƒ¨ç½²è¯¦æƒ…
- [é›†ç¾¤ API](02-api-cluster-api.md) - é›†ç¾¤å‘½ä»¤
- [ç³»ç»Ÿæ¶æ„](03-architecture-overview.md) - æ¶æ„è®¾è®¡æ¦‚è§ˆ

---

## â“ å¸¸è§é—®é¢˜

### Q: aikv-tool å®‰è£…å¤±è´¥ï¼Ÿ

ç¡®ä¿ Rust ç‰ˆæœ¬ >= 1.70ï¼š
```bash
rustup update
```

### Q: Docker é•œåƒæ„å»ºå¤±è´¥ï¼Ÿ

ç¡®ä¿ Docker æœåŠ¡æ­£åœ¨è¿è¡Œï¼š
```bash
docker info
```

### Q: é›†ç¾¤åˆå§‹åŒ–å¤±è´¥ï¼Ÿ

æ£€æŸ¥æ‰€æœ‰èŠ‚ç‚¹æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š
```bash
docker-compose ps
```

å¦‚æœæœ‰èŠ‚ç‚¹æœªå¯åŠ¨ï¼Œå°è¯•ï¼š
```bash
aikv-tool cluster stop -v  # åœæ­¢å¹¶æ¸…ç†
aikv-tool cluster setup    # é‡æ–°éƒ¨ç½²
```

### Q: è¿æ¥è¶…æ—¶ï¼Ÿ

æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š
```bash
lsof -i :6379
```

---

*éœ€è¦æ›´å¤šå¸®åŠ©ï¼ŸæŸ¥çœ‹ [æ•…éšœæ’é™¤](01-guide-troubleshooting.md) æˆ– [é›†ç¾¤æ¶æ„](03-architecture-cluster.md)*
---

**Last Updated**: 2026-01-16  
**Version**: v0.1.0  
**Rust Version**: 1.70+  
**Maintained by**: @Genuineh
