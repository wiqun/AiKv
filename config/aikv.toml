# AiKv å•æœºæ¨¡å¼é…ç½®æ¨¡æ¿
# Single Node Configuration Template
#
# ä½¿ç”¨æ–¹æ³• / Usage:
#   cp config/aikv.toml config.toml
#   ./target/release/aikv --config config.toml
#
# é…ç½®çŠ¶æ€è¯´æ˜ / Configuration Status Legend:
#   âœ… å·²å®ç° / Implemented - è¯¥é…ç½®é¡¹å·²åœ¨ä»£ç ä¸­ç”Ÿæ•ˆ
#   ğŸš§ è®¡åˆ’ä¸­ / Planned - è¯¥é…ç½®é¡¹å·²å®šä¹‰ä½†å°šæœªå®ç°
#

# ============================================================
# æœåŠ¡å™¨é…ç½® / Server Configuration
# ============================================================
[server]
# âœ… ç›‘å¬åœ°å€ / Bind address
host = "127.0.0.1"

# âœ… ç›‘å¬ç«¯å£ / Bind port
port = 6379

# ğŸš§ ä»¥ä¸‹é…ç½®é¡¹å°šæœªå®ç° / The following options are not yet implemented:
# max_connections = 10000      # æœ€å¤§å¹¶å‘è¿æ¥æ•° / Maximum concurrent connections
# connection_timeout = 300     # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰/ Connection timeout in seconds
# tcp_buffer_size = 65536      # TCP ç¼“å†²åŒºå¤§å° / TCP buffer size

# ============================================================
# å­˜å‚¨é…ç½® / Storage Configuration
# ============================================================
[storage]
# âœ… å­˜å‚¨å¼•æ“ç±»å‹ / Storage engine type
# å¯é€‰å€¼ / Options:
#   - "memory"  : å†…å­˜å­˜å‚¨ï¼Œé«˜æ€§èƒ½ï¼Œæ— æŒä¹…åŒ–
#                 In-memory storage, high performance, no persistence
#   - "aidb"    : AiDb LSM-Tree æŒä¹…åŒ–å­˜å‚¨
#                 AiDb LSM-Tree persistent storage
engine = "memory"

# âœ… æ•°æ®å­˜å‚¨ç›®å½•ï¼ˆaidb æ¨¡å¼éœ€è¦ï¼‰/ Data directory (required for aidb mode)
data_dir = "./data"

# âœ… æ•°æ®åº“æ•°é‡ï¼ˆ0-15ï¼Œå…± 16 ä¸ªæ•°æ®åº“ï¼‰
# Number of databases (0-15, total 16 databases)
databases = 16

# ğŸš§ ä»¥ä¸‹é…ç½®é¡¹å°šæœªå®ç° / The following options are not yet implemented:
# max_memory = "1GB"           # æœ€å¤§å†…å­˜ä½¿ç”¨ / Maximum memory usage

# ============================================================
# æ—¥å¿—é…ç½® / Logging Configuration
# ============================================================
[logging]
# âœ… æ—¥å¿—çº§åˆ« / Log level
# å¯é€‰å€¼ / Options: trace, debug, info, warn, error
level = "info"

# ğŸš§ ä»¥ä¸‹é…ç½®é¡¹å°šæœªå®ç° / The following options are not yet implemented:
# file = "./logs/aikv.log"     # æ—¥å¿—æ–‡ä»¶è·¯å¾„ / Log file path
# console = true               # æ˜¯å¦è¾“å‡ºåˆ°æ§åˆ¶å° / Output to console
# max_size = "100MB"           # æ—¥å¿—è½®è½¬å¤§å° / Log rotation size
# max_backups = 10             # ä¿ç•™æ—¥å¿—æ–‡ä»¶æ•°é‡ / Number of backup log files

# ============================================================
# ğŸš§ ä»¥ä¸‹é…ç½®èŠ‚å°šæœªå®ç° / The following sections are not yet implemented
# ============================================================

# [persistence]
# # æ˜¯å¦å¯ç”¨æŒä¹…åŒ– / Enable persistence
# enabled = false
#
# # æŒä¹…åŒ–æ¨¡å¼ / Persistence mode
# # å¯é€‰å€¼ / Options:
# #   - "rdb"     : RDB å¿«ç…§æ¨¡å¼
# #   - "aof"     : AOF æ—¥å¿—æ¨¡å¼
# #   - "hybrid"  : æ··åˆæ¨¡å¼ï¼ˆRDB + AOFï¼‰
# mode = "rdb"
#
# # RDB å¿«ç…§é—´éš”ï¼ˆç§’ï¼‰/ RDB snapshot interval in seconds
# rdb_interval = 900
#
# # AOF åŒæ­¥ç­–ç•¥ / AOF sync policy
# # å¯é€‰å€¼ / Options:
# #   - "always"   : æ¯æ¬¡å†™å…¥éƒ½åŒæ­¥
# #   - "everysec" : æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼ˆæ¨èï¼‰
# #   - "no"       : ç”±æ“ä½œç³»ç»Ÿå†³å®š
# aof_sync = "everysec"

# [performance]
# # å·¥ä½œçº¿ç¨‹æ•°ï¼ˆ0 = CPU æ ¸å¿ƒæ•°ï¼‰/ Worker threads (0 = CPU cores)
# worker_threads = 0
#
# # æ˜¯å¦å¯ç”¨ TCP_NODELAY
# tcp_nodelay = true
#
# # æ˜¯å¦å¯ç”¨ SO_KEEPALIVE
# tcp_keepalive = true
#
# # Lua è„šæœ¬è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼Œ0 = æ— é™åˆ¶ï¼‰
# # Lua script timeout in milliseconds (0 = unlimited)
# lua_timeout = 5000

# [security]
# # æ˜¯å¦éœ€è¦å¯†ç è®¤è¯ / Require password authentication
# # requirepass = "your_password"
#
# # å…è®¸çš„å®¢æˆ·ç«¯ IP åˆ—è¡¨ï¼ˆç©º = å…è®¸æ‰€æœ‰ï¼‰
# # Allowed client IPs (empty = allow all)
# # allowed_ips = ["127.0.0.1", "192.168.1.0/24"]

# [expiration]
# # åå°æ¸…ç†é—´éš”ï¼ˆç§’ï¼‰/ Background cleanup interval in seconds
# cleanup_interval = 1
#
# # æ¯æ¬¡æ¸…ç†çš„æœ€å¤§é”®æ•° / Maximum keys per cleanup cycle
# max_keys_per_cycle = 100
#
# # è¿‡æœŸé”®é‡‡æ ·æ•°é‡ / Number of keys to sample
# sample_size = 20
